include </home/justin/code/BOSL2/std.scad>
include </home/justin/code/BOSL2/gears.scad>

R = N * pitch / PI / 2;
r = R - n * pitch / PI / 2;
echo("r=", r);
module Ring(){
  difference(){
    for(theta = [0, 90, 180, 270]){
      rotate([0, 0, theta])
	translate([R+2.25, 0, -155])cylinder(d=4, h=9, $fn=4);
    }
    cylinder(r=R+2.25, h=350, center=true);
  }
  translate([0,0,-150]){

    translate([0,0,-h/2-3])
      difference(){
      translate([0,0,-2])cylinder(r=r + 10 + 3, h=5);
      translate([0, 0, -3])cylinder(r=r + 13/2, h=h + 3 + 2);
    }
    
    difference(){
      ring_gear(circ_pitch=pitch,teeth=N,thickness=h);
      translate([0,0,-5])cylinder(r1=r+7.5, r2=r+7.5-5 , h=5);
    }
    
  }
}
