ORBIGATOR CIRCUIT DIAGRAM (ASCII)
Raspberry Pi Pico 2 with DYNAMIXEL Motors
==========================================

                                    ┌─────────────────────┐
                                    │  5V Power Supply    │
                                    │  (4-5A External)    │
                                    └──┬────────────────┬──┘
                                       │ +5V            │ GND
                                       │                │
                    ┌──────────────────┼────────────────┼──────────────────┐
                    │                  │                │                  │
                    │              ┌───┴───┐            │                  │
                    │              │ 10kΩ  │            │                  │
                    │              │  R1   │            │                  │
                    │              └───┬───┘            │                  │
                    │                  │                │                  │
    ┌───────────────┴────────┐         │                │      ┌───────────┴────────┐
    │  DYNAMIXEL XL330 (M1)  │         │                │      │  DYNAMIXEL XL330 (M2)│
    │  EQX Motor (ID 1)      │         │                │      │  AoV Motor (ID 2)    │
    │  11T → 120T Gearing    │         │                │      │  Direct Drive        │
    ├────────────────────────┤         │                │      ├──────────────────────┤
    │ 1: GND ────────────────┼─────────┼────────────────┼──────┼─────────── GND :1    │
    │ 2: VDD (5V) ───────────┼─────────┘                └──────┼─────────── VDD :2    │
    │ 3: DATA ───────────────┼────────────────┬────────────────┼─────────── DATA:3    │
    └────────────────────────┘                │                └──────────────────────┘
                                              │
                                              │ DATA BUS
                                              │
                    ┌─────────────────────────┼─────────────────────────┐
                    │  SN74HC126N (U2)        │                         │
                    │  Tri-State Buffer       │                         │
                    ├─────────────────────────┼─────────────────────────┤
                    │  1: 1OE ◄───────────────┼─────────────────┐       │
                    │  2: 1A  ◄───────────────┼─────────┐       │       │
                    │  3: 1Y  ─────────────────────────┼───────┼───────┤
                    │  7: GND ────────────────┼────┐    │       │       │
                    │ 14: VCC ◄───────────────┼────┼────┼───────┼───┐   │
                    └─────────────────────────┼────┼────┼───────┼───┼───┘
                                              │    │    │       │   │
                                              │    │    │       │   │
    ┌─────────────────────────────────────────┼────┼────┼───────┼───┼───────────────┐
    │  Raspberry Pi Pico 2 (U1)               │    │    │       │   │               │
    ├─────────────────────────────────────────┼────┼────┼───────┼───┼───────────────┤
    │  1: GP0  (UART TX) ──────────────────────────┼────┘       │   │               │
    │  2: GP1  (UART RX) ──────────────────────────┼────────────┘   │               │
    │  3: GND ─────────────────────────────────────┼────────────────┼───────┐       │
    │  4: GP2  (DIR) ──────────────────────────────┘                │       │       │
    │  6: GP4  (I2C SDA) ─────────────────────────────────┬─────────┼───────┼───┐   │
    │  7: GP5  (I2C SCL) ─────────────────────────────────┼─────┬───┼───────┼───┼─┐ │
    │  9: GP6  (ENC A) ───────────────────────────────────┼─────┼───┼───────┼───┼─┼─┤
    │ 10: GP7  (ENC B) ───────────────────────────────────┼─────┼───┼───────┼───┼─┼─┤
    │ 11: GP8  (ENC SW) ──────────────────────────────────┼─────┼───┼───────┼───┼─┼─┤
    │ 36: 3V3(OUT) ───────────────────────────────────────┼─────┼───┼───────┘   │ │ │
    │ 38: GND ────────────────────────────────────────────┼─────┼───┼───────────┘ │ │
    └─────────────────────────────────────────────────────┼─────┼───┼─────────────┼─┼─┘
                                                          │     │   │             │ │
                    ┌─────────────────────────────────────┼─────┼───┘             │ │
                    │  OLED Display (DISP1)               │     │                 │ │
                    │  128x64 SH1106/SSD1306              │     │                 │ │
                    │  I2C Address: 0x3C                  │     │                 │ │
                    ├─────────────────────────────────────┼─────┼─────────────────┼─┼─┐
                    │  VCC (3.3V) ◄───────────────────────┘     │                 │ │ │
                    │  GND ◄────────────────────────────────────┼─────────────────┘ │ │
                    │  SDA ◄────────────────────────────────────┘                   │ │
                    │  SCL ◄────────────────────────────────────────────────────────┘ │
                    └───────────────────────────────────────────────────────────────┘ │
                                                                                      │
                    ┌─────────────────────────────────────────────────────────────────┼─┐
                    │  DS3231 RTC (RTC1)                                              │ │
                    │  ChronoDot                                                      │ │
                    │  I2C Address: 0x68                                              │ │
                    ├─────────────────────────────────────────────────────────────────┼─┼─┐
                    │  VCC (3.3V) ◄───────────────────────────────────────────────────┘ │ │
                    │  GND ◄──────────────────────────────────────────────────────────┼─┘ │
                    │  SDA ◄──────────────────────────────────────────────────────────┘   │
                    │  SCL ◄──────────────────────────────────────────────────────────────┘
                    └─────────────────────────────────────────────────────────────────────┘

                    ┌─────────────────────────────────────────────────────────────────────┐
                    │  Rotary Encoder (ENC1)                                              │
                    │  with Push Button                                                   │
                    ├─────────────────────────────────────────────────────────────────────┤
                    │  A  ◄─────────────────────────────────────────────────────────────┐ │
                    │  B  ◄─────────────────────────────────────────────────────────────┼─┤
                    │  SW ◄─────────────────────────────────────────────────────────────┼─┼─┐
                    │  GND ◄────────────────────────────────────────────────────────────┼─┼─┼─┐
                    └───────────────────────────────────────────────────────────────────┼─┼─┼─┼─┘
                                                                                        │ │ │ │
                                                                    GP6 ◄───────────────┘ │ │ │
                                                                    GP7 ◄─────────────────┘ │ │
                                                                    GP8 ◄───────────────────┘ │
                                                                    GND ◄─────────────────────┘

SIGNAL FLOW:
============

UART Communication (Half-Duplex):
----------------------------------
Pico TX (GP0) ──► 74HC126 (1A) ──► 74HC126 (1Y) ──► DATA BUS ──► Motors
Pico RX (GP1) ◄──────────────────────────────────── DATA BUS ◄── Motors
Pico DIR (GP2) ──► 74HC126 (1OE) [Controls buffer direction]

When GP2 = HIGH: Buffer enabled, Pico transmits
When GP2 = LOW:  Buffer tri-stated, Motors transmit

I2C Communication (Shared Bus):
--------------------------------
Pico SDA (GP4) ◄──► OLED SDA + RTC SDA
Pico SCL (GP5) ◄──► OLED SCL + RTC SCL

Encoder Input:
--------------
Encoder A ──► GP6 (with internal pull-up)
Encoder B ──► GP7 (with internal pull-up)
Encoder SW ──► GP8 (with internal pull-up)

POWER DISTRIBUTION:
===================

3.3V Rail (from Pico):
- 74HC126 VCC
- OLED VCC
- RTC VCC

5V Rail (External Supply):
- Motor 1 VDD
- Motor 2 VDD
- 10kΩ pull-up resistor

Common Ground:
- All components share common ground
- CRITICAL: External 5V supply GND must connect to Pico GND

CRITICAL CONNECTIONS:
=====================

1. DATA BUS Pull-up:
   - 10kΩ resistor from DATA line to +5V
   - Required for reliable DYNAMIXEL communication

2. Buffer Control:
   - GP2 controls 74HC126 output enable (1OE)
   - Must be set HIGH before transmitting
   - Must be set LOW to receive

3. Motor Daisy Chain:
   - Both motors share DATA line
   - Each motor has unique ID (1 and 2)
   - Can be connected in any order

4. I2C Shared Bus:
   - OLED and RTC on same bus
   - Different I2C addresses prevent conflicts
   - 100 kHz frequency for reliability
